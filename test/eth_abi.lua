ETH = require_once'crypto_ethereum'

example1 = ETH.data_contract_factory('baz', {'uint32', 'bool'})
assert(example1(69, true) == O.from_hex('cdcd77c000000000000000000000000000000000000000000000000000000000000000450000000000000000000000000000000000000000000000000000000000000001'))


example2 = ETH.data_contract_factory('bar', {'bytes3[2]'})
assert(example2({O.from_str('abc'),O.from_str('def')}) == O.from_hex('fce353f661626300000000000000000000000000000000000000000000000000000000006465660000000000000000000000000000000000000000000000000000000000'))

example3 = ETH.data_contract_factory('sam', {'bytes', 'bool', 'uint256[]'})
assert(example3(O.from_str('dave'), true, {1,2,3}) == O.from_hex('a5643bf20000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000464617665000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003'))
